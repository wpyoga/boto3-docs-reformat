<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>Migrating from Boto 2.x &mdash; Boto3 Docs 1.18.5 documentation</title>
    
    <link rel="stylesheet" href="../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.18.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Boto3 Docs 1.18.5 documentation" href="../index.html" />
    <link rel="up" title="Developer guide" href="index.html" />
    <link rel="next" title="Amazon S3" href="migrations3.html" />
    <link rel="prev" title="What&#39;s new" href="new.html" />
  
   

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="migrations3.html" title="Amazon S3"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="new.html" title="What&#39;s new"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Boto3 Docs 1.18.5 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Developer guide</a> &raquo;</li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar"><a href="
    ../index.html" class="text-logo">Boto3 Docs 1.18.5 documentation</a><div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Table Of Contents</h2>
  </div>
  <div class="sidebar-toc">
    
    
      <ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="sqs.html">A sample tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Code examples</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#sdk-features">SDK features</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#tools">Tools</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#migrations">Migrations</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="new.html">What's new</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">Migrating from Boto 2.x</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrationpy3.html">Migrating to Python 3</a></li>
<li class="toctree-l3"><a class="reference internal" href="upgrading.html">Upgrading notes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/services/index.html">Available services</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/core/index.html">Core references</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/customizations/index.html">Customization references</a></li>
</ul>

    
  </div>
</div>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="../search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
      
    </div>
  </div>
        <div id="right-column">
          

          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="../index.html">Docs</a></li>
              
                <li><a href="index.html">Developer guide</a></li>
              
              <li>Migrating from Boto 2.x</li>
            </ol>
          </div>
          
<!--REGION_DISCLAIMER_DO_NOT_REMOVE-->
          <div class="document clearer body">
            
  <div class="section" id="migrating-from-boto-2-x">
<span id="guide-migration"></span><h1>Migrating from Boto 2.x<a class="headerlink" href="#migrating-from-boto-2-x" title="Permalink to this headline">¶</a></h1>
<p>Current Boto users can begin using Boto3 right away. The two modules can
live side-by-side in the same project, which means that a piecemeal
approach can be used. New features can be written in Boto3, or existing
code can be migrated over as needed, piece by piece.</p>
<div class="section" id="high-level-concepts">
<h2>High-level concepts<a class="headerlink" href="#high-level-concepts" title="Permalink to this headline">¶</a></h2>
<p>Boto 2.x modules are typically split into two categories, those which include a high-level object-oriented interface and those which include only a low-level interface which matches the underlying Amazon Web Services API. Some modules are completely high-level (like Amazon S3 or EC2), some include high-level code on top of a low-level connection (like Amazon DynamoDB), and others are 100% low-level (like Amazon Elastic Transcoder).</p>
<p>In Boto3 this general low-level and high-level concept hasn't changed much, but there are two important points to understand.</p>
<div class="section" id="data-driven">
<h3>Data driven<a class="headerlink" href="#data-driven" title="Permalink to this headline">¶</a></h3>
<p>First, in Boto3 classes are created at runtime from JSON data files that describe AWS APIs and organizational structures built atop of them. These data files are loaded at runtime and can be modified and updated without the need of installing an entirely new SDK release.</p>
<p>A side effect of having all the services generated from JSON files is that there is now consistency between all AWS service modules. One important change is that <em>all</em> API call parameters must now be passed as <strong>keyword arguments</strong>, and these keyword arguments take the form defined by the upstream service. Though there are exceptions, this typically means <tt class="docutils literal"><span class="pre">UpperCamelCasing</span></tt> parameter names. You will see this in the service-specific migration guides linked to below.</p>
</div>
<div class="section" id="resource-objects">
<h3>Resource objects<a class="headerlink" href="#resource-objects" title="Permalink to this headline">¶</a></h3>
<p>Second, while every service now uses the runtime-generated low-level client, some services additionally have high-level generated objects that we refer to as <tt class="docutils literal"><span class="pre">Resources</span></tt>. The lower-level is comparable to Boto 2.x layer 1 connection objects in that they provide a one to one mapping of API operations and return low-level responses. The higher level is comparable to the high-level customizations from Boto 2.x: an S3 <tt class="docutils literal"><span class="pre">Key</span></tt>, an EC2 <tt class="docutils literal"><span class="pre">Instance</span></tt>, and a DynamoDB <tt class="docutils literal"><span class="pre">Table</span></tt> are all considered resources in Boto3. Just like a Boto 2.x <tt class="docutils literal"><span class="pre">S3Connection</span></tt>'s <tt class="docutils literal"><span class="pre">list_buckets</span></tt> will return <tt class="docutils literal"><span class="pre">Bucket</span></tt> objects, the Boto3 resource interface provides actions and collections that return resources. Some services may also have hand-written customizations built on top of the runtime-generated high-level resources (such as utilities for working with S3 multipart uploads).</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">boto</span><span class="o">,</span> <span class="nn">boto3</span>

<span class="c1"># Low-level connections</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">boto</span><span class="o">.</span><span class="n">connect_elastictranscoder</span><span class="p">()</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;elastictranscoder&#39;</span><span class="p">)</span>

<span class="c1"># High-level connections &amp; resource objects</span>
<span class="kn">from</span> <span class="nn">boto.s3.bucket</span> <span class="kn">import</span> <span class="n">Bucket</span>
<span class="n">s3_conn</span> <span class="o">=</span> <span class="n">boto</span><span class="o">.</span><span class="n">connect_s3</span><span class="p">()</span>
<span class="n">boto2_bucket</span> <span class="o">=</span> <span class="n">Bucket</span><span class="p">(</span><span class="s1">&#39;mybucket&#39;</span><span class="p">)</span>

<span class="n">s3</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">resource</span><span class="p">(</span><span class="s1">&#39;s3&#39;</span><span class="p">)</span>
<span class="n">boto3_bucket</span> <span class="o">=</span> <span class="n">s3</span><span class="o">.</span><span class="n">Bucket</span><span class="p">(</span><span class="s1">&#39;mybucket&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="installation-and-configuration">
<h2>Installation and configuration<a class="headerlink" href="#installation-and-configuration" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="quickstart.html#guide-quickstart"><em>Quickstart</em></a> guide provides instructions for installing Boto3. You can also follow the instructions there to set up new credential files, or you can continue to use your existing Boto 2.x credentials. Please note that Boto3, the AWS CLI, and several other SDKs all use the shared credentials file (usually at <tt class="docutils literal"><span class="pre">~/.aws/credentials</span></tt>).</p>
<p>Once configured, you may begin using Boto3:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">boto3</span>

<span class="k">for</span> <span class="n">bucket</span> <span class="ow">in</span> <span class="n">boto3</span><span class="o">.</span><span class="n">resource</span><span class="p">(</span><span class="s1">&#39;s3&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">buckets</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">bucket</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<p>See the <a class="reference internal" href="examples.html#aws-boto3-examples"><em>Code Examples</em></a> and <a class="reference external" href="https://boto3.amazonaws.com/v1/documentation/api/latest/index.html">Boto3 Documentation</a> for more information.</p>
<p>The rest of this document will describe specific common usage scenarios of Boto 2 code and how to accomplish the same tasks with Boto3.</p>
</div>
<div class="section" id="services">
<h2>Services<a class="headerlink" href="#services" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="migrations3.html">Amazon S3</a><ul>
<li class="toctree-l2"><a class="reference internal" href="migrations3.html#creating-the-connection">Creating the connection</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrations3.html#creating-a-bucket">Creating a bucket</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrations3.html#storing-data">Storing data</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrations3.html#accessing-a-bucket">Accessing a bucket</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrations3.html#deleting-a-bucket">Deleting a bucket</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrations3.html#iteration-of-buckets-and-keys">Iteration of buckets and keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrations3.html#access-controls">Access controls</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrations3.html#key-metadata">Key metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrations3.html#managing-cors-configurations">Managing CORS configurations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="migrationec2.html">Amazon EC2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="migrationec2.html#creating-the-connection">Creating the connection</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrationec2.html#launching-new-instances">Launching new instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrationec2.html#stopping-and-terminating-instances">Stopping and terminating instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrationec2.html#checking-what-instances-are-running">Checking what instances are running</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrationec2.html#checking-health-status-of-instances">Checking health status of instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrationec2.html#working-with-ebs-snapshots">Working with EBS snapshots</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrationec2.html#creating-a-vpc-subnet-and-gateway">Creating a VPC, subnet, and gateway</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrationec2.html#attaching-and-detaching-an-elastic-ip-and-gateway">Attaching and detaching an elastic IP and gateway</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="new.html" title="previous chapter (use the left arrow)">What's new</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="migrations3.html" title="next chapter (use the right arrow)">Amazon S3</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="migrations3.html" title="Amazon S3"
             >next</a> |</li>
        <li class="right" >
          <a href="new.html" title="What&#39;s new"
             >previous</a> |</li>
        <li><a href="../index.html">Boto3 Docs 1.18.5 documentation</a> &raquo;</li>
          <li><a href="index.html" >Developer guide</a> &raquo;</li> 
      </ul>
    </div>
<div class="footer">
    <script type="text/javascript" src="../_static/shortbreadv1.js"></script>
    <script type="text/javascript">
            const shortbread = AWSCShortbread({
                domain: ".amazonaws.com",
});
            shortbread.checkForCookieConsent();
    </script>
    <a href="http://aws.amazon.com/privacy">Privacy</a> | <a href="http://aws.amazon.com/terms">Site Terms</a> | <a
        href="#" onclick="shortbread.customizeCookies();">Cookie preferences</a> |
    &copy; Copyright 2021, Amazon Web Services, Inc. Created using <a href="https://www.sphinx-doc.org/">Sphinx</a>.
</div>
  </body>
</html>