<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="Use the Amazon SES API to manage email rules." name="description" />
<meta content="SES Python" name="keywords" />

  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>Creating and managing email rules with the SES API &mdash; Boto3 Docs 1.18.5 documentation</title>
    
    <link rel="stylesheet" href="../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.18.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Boto3 Docs 1.18.5 documentation" href="../index.html" />
    <link rel="up" title="Amazon SES examples" href="ses-examples.html" />
    <link rel="next" title="Amazon SQS examples" href="sqs-examples.html" />
    <link rel="prev" title="Managing email filters with SES API" href="ses-filters.html" />
  
   

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="sqs-examples.html" title="Amazon SQS examples"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ses-filters.html" title="Managing email filters with SES API"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Boto3 Docs 1.18.5 documentation</a> &raquo;</li>
          <li><a href="examples.html" >Code examples</a> &raquo;</li>
          <li><a href="ses-examples.html" accesskey="U">Amazon SES examples</a> &raquo;</li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar"><a href="
    ../index.html" class="text-logo">Boto3 Docs 1.18.5 documentation</a><div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Table Of Contents</h2>
  </div>
  <div class="sidebar-toc">
    
    
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="sqs.html">A sample tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="examples.html">Code examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cw-examples.html">Amazon CloudWatch examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="dynamodb.html">Amazon DynamoDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="ec2-examples.html">Amazon EC2 examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="iam-examples.html">AWS Identity and Access Management examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="kms-examples.html">AWS Key Management Service (AWS KMS) examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="s3-examples.html">Amazon S3 examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="secrets-manager.html">AWS Secrets Manager</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="ses-examples.html">Amazon SES examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="sqs-examples.html">Amazon SQS examples</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Developer guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/services/index.html">Available services</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/core/index.html">Core references</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/customizations/index.html">Customization references</a></li>
</ul>

    
  </div>
</div>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="../search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
      
    </div>
  </div>
        <div id="right-column">
          

          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="../index.html">Docs</a></li>
              
                <li><a href="examples.html">Code examples</a></li>
              
                <li><a href="ses-examples.html">Amazon SES examples</a></li>
              
              <li>Creating and managing email rules with the SES API</li>
            </ol>
          </div>
          
<!--REGION_DISCLAIMER_DO_NOT_REMOVE-->
          <div class="document clearer body">
            
  <div class="section" id="creating-and-managing-email-rules-with-the-ses-api">
<span id="aws-boto3-ses-rules"></span><h1>Creating and managing email rules with the SES API<a class="headerlink" href="#creating-and-managing-email-rules-with-the-ses-api" title="Permalink to this headline">¶</a></h1>
<p>In addition to sending emails, you can also receive email with Amazon Simple
Email Service (SES). Receipt rules enable you to specify what SES does with
email it receives for the email addresses or domains you own. A rule can send
email to other AWS services including but not limited to Amazon S3, Amazon
SNS, or AWS Lambda.</p>
<p>For more information, see <a class="reference external" href="https://docs.aws.amazon.com/ses/latest/DeveloperGuide/receiving-email-managing-receipt-rule-sets.html">Managing Receipt Rule Sets for Amazon SES Email
Receiving</a>
and <a class="reference external" href="https://docs.aws.amazon.com/ses/latest/DeveloperGuide/receiving-email-managing-receipt-rules.html">Managing Receipt Rules for Amazon SES Email
Receiving</a>.</p>
<p>The following examples show how to:</p>
<ul class="simple">
<li>Create a receipt rule set using <a class="reference external" href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ses.html#SES.Client.create_receipt_rule_set">create_receipt_rule_set()</a>.</li>
<li>Create a receipt rule using <a class="reference external" href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ses.html#SES.Client.create_receipt_rule">create_receipt_rule()</a>.</li>
<li>Remove a receipt rule using <a class="reference external" href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ses.html#SES.Client.delete_receipt_rule">delete_receipt_rule()</a>.</li>
<li>Remove a receipt rule set using <a class="reference external" href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ses.html#SES.Client.delete_receipt_rule_set">delete_receipt_rule_set()</a>.</li>
</ul>
<div class="section" id="prerequisite-tasks">
<h2>Prerequisite tasks<a class="headerlink" href="#prerequisite-tasks" title="Permalink to this headline">¶</a></h2>
<p>To set up and run this example, you must first complete these tasks:</p>
<ul class="simple">
<li>Configure your AWS credentials, as described in <a class="reference internal" href="quickstart.html"><em>Quickstart</em></a>.</li>
</ul>
</div>
<div class="section" id="create-a-receipt-rule-set">
<h2>Create a receipt rule set<a class="headerlink" href="#create-a-receipt-rule-set" title="Permalink to this headline">¶</a></h2>
<p>A receipt rule set contains a collection of receipt rules. You must have at
least one receipt rule set associated with your account before you can create
a receipt rule. To create a receipt rule set, provide a unique RuleSetName and
use the
<a class="reference external" href="https://docs.aws.amazon.com/ses/latest/APIReference/API_CreateReceiptRuleSet.html">CreateReceiptRuleSet</a>
operation.</p>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">boto3</span>

<span class="c1"># Create SES client</span>
<span class="n">ses</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;ses&#39;</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">ses</span><span class="o">.</span><span class="n">create_receipt_rule_set</span><span class="p">(</span>
  <span class="n">RuleSetName</span> <span class="o">=</span> <span class="s1">&#39;RULE_SET_NAME&#39;</span><span class="p">,</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="create-a-receipt-rule">
<h2>Create a receipt rule<a class="headerlink" href="#create-a-receipt-rule" title="Permalink to this headline">¶</a></h2>
<p>Control your incoming email by adding a receipt rule to an existing
receipt rule set. This example shows you how to create a receipt rule that
sends incoming messages to an Amazon S3 bucket, but you can also send
messages to Amazon SNS and AWS Lambda. To create a receipt rule, provide a
rule and the RuleSetName to the
<a class="reference external" href="https://docs.aws.amazon.com/ses/latest/APIReference/API_CreateReceiptRule.html">CreateReceiptRule</a>
operation.</p>
<div class="section" id="id1">
<h3>Example<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">boto3</span>

<span class="c1"># Create SES client</span>
<span class="n">ses</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;ses&#39;</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">ses</span><span class="o">.</span><span class="n">create_receipt_rule</span><span class="p">(</span>
  <span class="n">RuleSetName</span>   <span class="o">=</span> <span class="s1">&#39;RULE_SET_NAME&#39;</span><span class="p">,</span>
  <span class="n">Rule</span>          <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Name&#39;</span>      <span class="p">:</span> <span class="s1">&#39;RULE_NAME&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Enabled&#39;</span>   <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s1">&#39;TlsPolicy&#39;</span> <span class="p">:</span> <span class="s1">&#39;Optional&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Recipients&#39;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s1">&#39;EMAIL_ADDRESS&#39;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">&#39;Actions&#39;</span>   <span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s1">&#39;S3Action&#39;</span>         <span class="p">:</span> <span class="p">{</span>
          <span class="s1">&#39;BucketName&#39;</span>     <span class="p">:</span> <span class="s1">&#39;S3_BUCKET_NAME&#39;</span><span class="p">,</span>
          <span class="s1">&#39;ObjectKeyPrefix&#39;</span><span class="p">:</span> <span class="s1">&#39;SES_email&#39;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">],</span>
  <span class="p">}</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="delete-a-receipt-rule-set">
<h2>Delete a receipt rule set<a class="headerlink" href="#delete-a-receipt-rule-set" title="Permalink to this headline">¶</a></h2>
<p>Remove a specified receipt rule set that isn't currently disabled. This also
deletes all of the receipt rules it contains. To delete a receipt rule set,
provide the RuleSetName to the
<a class="reference external" href="https://docs.aws.amazon.com/ses/latest/APIReference/API_DeleteReceiptRuleSet.html">DeleteReceiptRuleSet</a>
operation.</p>
<div class="section" id="id2">
<h3>Example<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">boto3</span>

<span class="c1"># Create SES client</span>
<span class="n">ses</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;ses&#39;</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">ses</span><span class="o">.</span><span class="n">delete_receipt_rule</span><span class="p">(</span>
  <span class="n">RuleName</span><span class="o">=</span><span class="s1">&#39;RULE_NAME&#39;</span><span class="p">,</span>
  <span class="n">RuleSetName</span><span class="o">=</span><span class="s1">&#39;RULE_SET_NAME&#39;</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="delete-a-receipt-rule">
<h2>Delete a receipt rule<a class="headerlink" href="#delete-a-receipt-rule" title="Permalink to this headline">¶</a></h2>
<p>To delete a specified receipt rule, provide the RuleName and RuleSetName to the
<a class="reference external" href="https://docs.aws.amazon.com/ses/latest/APIReference/API_DeleteReceiptRule.html">DeleteReceiptRule</a>
operation.</p>
<div class="section" id="id3">
<h3>Example<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">boto3</span>

<span class="c1"># Create SES client</span>
<span class="n">ses</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;ses&#39;</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">ses</span><span class="o">.</span><span class="n">delete_receipt_rule_set</span><span class="p">(</span>
  <span class="n">RuleSetName</span> <span class="o">=</span> <span class="s1">&#39;RULE_SET_NAME&#39;</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="ses-filters.html" title="previous chapter (use the left arrow)">Managing email filters with SES API</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="sqs-examples.html" title="next chapter (use the right arrow)">Amazon SQS examples</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="sqs-examples.html" title="Amazon SQS examples"
             >next</a> |</li>
        <li class="right" >
          <a href="ses-filters.html" title="Managing email filters with SES API"
             >previous</a> |</li>
        <li><a href="../index.html">Boto3 Docs 1.18.5 documentation</a> &raquo;</li>
          <li><a href="examples.html" >Code examples</a> &raquo;</li>
          <li><a href="ses-examples.html" >Amazon SES examples</a> &raquo;</li> 
      </ul>
    </div>
<div class="footer">
    <script type="text/javascript" src="../_static/shortbreadv1.js"></script>
    <script type="text/javascript">
            const shortbread = AWSCShortbread({
                domain: ".amazonaws.com",
});
            shortbread.checkForCookieConsent();
    </script>
    <a href="http://aws.amazon.com/privacy">Privacy</a> | <a href="http://aws.amazon.com/terms">Site Terms</a> | <a
        href="#" onclick="shortbread.customizeCookies();">Cookie preferences</a> |
    &copy; Copyright 2021, Amazon Web Services, Inc. Created using <a href="https://www.sphinx-doc.org/">Sphinx</a>.
</div>
  </body>
</html>